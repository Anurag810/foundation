{% extends "templates/web.html" %}

{% from "templates/includes/macros.html" import media %}

{% macro gold_member(m) %}
<div class="media mb-4 {{ 'text-muted' if m.placeholder else '' }}" style="cursor: pointer;" onclick="location.href='{{ m.route }}'">
	<a class="mr-3" href="{{ m.route }}">
		<img class="media-img img-thumbnail" src="{{ m.image or '/assets/foundation/img/gold.png' }}">
	</a>
	<div class="media-body">
		<h4 class="media-heading">{{ m.title }}</h4>
		{{ m.introduction }}
	</div>
</div>
{% endmacro %}

{% macro silver_member(m) %}
<div class="col-sm-4">
	<div class="box clickable {{ 'text-muted' if m.placeholder else '' }}"
		style="cursor: pointer;" onclick="location.href='{{ m.route }}'">
		<h4>{{ m.title }}</h4>
		<p>{{ m.introduction | truncate(140) }}</p>
	</div>
</div>
{% endmacro %}

{% macro show_member(s) %}
<div class='col-sm-4'>
	<h3><a href="/{{ s.route }}">{{ s.title and s.title[:25] }}</a></h3>
	<p>
	{{ s.introduction and s.introduction | truncate(140) }}
	</p>
</div>
{% endmacro %}

{% block page_content %}
<section class="px-3">
	<h3 class="mb-5">Gold Members</h3>
	{% for m in gold_members %}
	{{ gold_member(m) }}
	{% endfor %}
	{% if has_gold_member %}
	<p class="pt-3"><a href='/members'>
		Become a Gold Member and get your company featured here</a></p>
	{% endif %}
</section>

<section class="my-5 px-3">
	<h3 class="mb-5">Silver Members</h3>
	<div class="row">
		{% for m in silver_members %}
		{{ silver_member(m) }}
		{% endfor %}
	</div>
	{% if has_silver_member %}
	<p class="pt-3"><a href='/members'>
		Become a Silver Member and get your company featured here</a></p>
	{% endif %}
</section>
<section class="my-5 px-3">
	<h3 class="mb-5">Individual Members</h3>
	<div class="row page-padding">
		{% for s in individual_members %}
		{{ show_member(s) }}
		{% endfor %}
	</div>
	{% if has_individual_member %}
	<p class="pt-3"><a href='/members'>
		Become an Individual Member and get your company featured here</a></p>
	{% endif %}
</section>
{% if not form_dict.country %}
<section class="my-5 px-3">
	<h3>Select by country</h3>
	<div class='row'>
		{% for c in countries %}
		<div class='col-xs-2 col-sm-4 col-md-3'>
			<p>
			<a class="secondary-link" href="/service-providers?country={{ c[0] }}">{{ c[0] }} ({{ c[1] }})</a>
			</p>
		</div>
		{% endfor %}
	</div>
</section>
{% endif %}
{% endblock %}

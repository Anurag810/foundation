{% extends "templates/web.html" %}

{% block page_content %}
<h1>{{ title }}</h1>
<h3>Details</h3>
<p>{{ introduction }}</p>
<h3>List of Members</h3>
{% if members %}
	<table class="table table-bordered small" style="max-width: 600px;">
		<tr>
			<th>Member Name</th>
			<th>Member Email</th>
			<th>Introduction</th>
			<th>Website URL</th>
			<th>Enable</th>
		</tr>
		{% for user in members %}
		    <tr>
		    	<td>{{ frappe.db.get_value('User', user.user, 'full_name') }}</td>
		    	<td>{{ frappe.db.get_value('User', user.user, 'email') }}</td>
		    	<td>{{ user.introduction }}</td>
		    	<td>
			    	{% if user.website_url %}
			    		<a href="{{ user.website_url }}">{{ user.website_url }}</a></td>
			    	{% else %}
			    		{{ user.website_url }}
					{% endif %}
		    	<td><label><input type="checkbox" name="enable" {{ checked if user.enabled == 1 else '' }}></label></td>
	    	</tr>
			
		{% endfor %}
	</table>
{% else %}
	<p>No member yet.</p>
{% endif %}

<h3>Chapter Head</h3>
<table class="table table-bordered" style="max-width: 400px;">
	<tr>
		<td>Name</td>
		<td>{{ frappe.db.get_value('User', chapter_head, 'full_name') }}</td>
	</tr>
	<tr>
		<td>Email</td>
		<td>{{ frappe.db.get_value('User', chapter_head, 'email') }}</td>
	</tr>
	<tr>
		<td>Phone</td>
		<td>{{ frappe.db.get_value('User', chapter_head, 'phone') }}</td>
	</tr>
</table>
<h3>Address</h3>
<p>{{ address }}</p>

<p style="margin: 20px 0 30px;"><a href="/join-chapter?name={{ name }}" class='btn btn-primary'>Join this Chapter</a></p>

{% endblock %}

<!-- this is a sample default web page template -->